<!DOCTYPE html>
{% extends 'main/mainpage.html' %}
{% load static %}
{% load humanize %}
{% block content %}

<html>

<style>


.bgs{
background-color: white;
}
.bg{
background-color: #F6FBFC  ;
}
.des{
  text-align: justify;
  text-transform: uppercase;
  color: #114045 ;
  word-wrap:break-word;

}
h4{
text-shadow: 2px 2px 5px #2F4345;

}
mark{
background-color:#AFDFE3;
border-radius: 25%;
}
hr {
    height: 12px;
    border: 0;
    box-shadow: inset 0 12px 12px -12px rgba(0, 0, 0, 0.5);
}

#content-wrapper{
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
	align-items: center;
}

.column{
	width: 600px;
	padding: 10px;

}

#featured{
	max-width: 500px;
	max-height: 600px;
	object-fit: cover;
	cursor: pointer;
	border: 2px solid black;

}

.animation {
  width: 100px;
  height: 100px;
  animation-name: example;
  background-color: #D1D1D1;
  animation-duration: 4s;
}

@keyframes example {
  0%   {background-color: #878787;}
  10%  {background-color: #E5E5E5;}
  20%  {background-color: #D1D1D1;}
  30% {background-color: #B3B3B3;}
  40%  {background-color: #999999;}
  50% {background-color: #878787;}
  60%  {background-color: #999999;}
  70% {background-color: #B3B3B3;}
  80%  {background-color: #D1D1D1;}
  90% {background-color: #E5E5E5;}
  100%  {background-color: #878787;}

}

.thumbnail{
	object-fit: cover;
	max-width: 180px;
	max-height: 100px;
	cursor: pointer;
	opacity: 0.5;
	margin: 5px;
	border: 2px solid black;

}

.thumbnail:hover{
	opacity:1;
}

.active{
	opacity: 1;
}

#slide-wrapper{
	max-width: 500px;
	display: flex;
	min-height: 100px;
	align-items: center;
}

#slider{
	width: 440px;
	display: flex;
	flex-wrap: nowrap;
	overflow-x: auto;

}

#slider::-webkit-scrollbar {
		width: 8px;

}

#slider::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);

}

#slider::-webkit-scrollbar-thumb {
  background-color: #7B9395 ;
  outline: 1px solid slategrey;
   border-radius: 100px;

}

#slider::-webkit-scrollbar-thumb:hover{
    background-color: #2F4345;
}

.arrow{
	width: 50px;
	height: 50px;
	cursor: pointer;
	transition: .3s;
	border-radius:30%;
}

.arrow:hover{
	opacity: .5;
	width: 55px;
	height: 55px;
}

</style>


<body>
	<div class="bgs ">
	<div id="content-wrapper">

		<div class="column">
			<img id=featured src="{% static pimage.first.image.url %}">
			<div id="slide-wrapper"  >
				<button id="slideLeft" class="arrow animation" > <b><<</b> </button>

				<div id="slider" >


					{% for i in pimage %}
    					<img class="thumbnail" src="{% static i.image.url %}" width="500" height="333">
					{% endfor %}
				</div>

				<button id="slideRight" class="arrow animation" > <b>>></b> </button>
			</div>
		</div>

		<div class="column bg">
			<h1 style=" text-align: center;text-shadow: 2px 2px 5px #557578;">{{posts.post_title}}</h1>
			<h2>{{posts.postType}}</h2>
			<hr>
			<h4 ><mark>Price:</mark>{{posts.price|intcomma}}$</h4>
			<h4 ><mark>Location:</mark>{{posts.location}}</h4>
			<h4 ><mark>Floor:</mark>{{posts.floor}}</h4>

			<h4 ><mark>Age:</mark>{{posts.building_age}}</h4>
			<h4 ><mark>Area:</mark>{{posts.area}} m<sup>2</sup></h4>
			<h4 ><mark>Furniture:</mark>{{posts.isFurniture}}</h4>
			<h4 ><mark>Type:</mark>{{posts.building_type}}</h4>


			<hr>
			<h4 style="text-align: right;">By:{{posts.ouruser.first_name}}</h4>
			<h4 style="text-align: right;">{{posts.ouruser.email}}</h4>

		</div>


		<div class="column bg">
			<hr>
			<h4 class="des"  ><mark>Description:</mark>{{posts.post_description}}</h4>
			<hr>
		</div>



	</div>
	</div>
<script type="text/javascript">
		let thumbnails = document.getElementsByClassName('thumbnail')

		let activeImages = document.getElementsByClassName('active')

		for (var i=0; i < thumbnails.length; i++){

			thumbnails[i].addEventListener('mouseover', function(){
				console.log(activeImages)

				if (activeImages.length > 0){
					activeImages[0].classList.remove('active')
				}


				this.classList.add('active')
				document.getElementById('featured').src = this.src
			})
		}


		let buttonRight = document.getElementById('slideRight');
		let buttonLeft = document.getElementById('slideLeft');

		buttonLeft.addEventListener('click', function(){
			document.getElementById('slider').scrollLeft -= 180
		})

		buttonRight.addEventListener('click', function(){
			document.getElementById('slider').scrollLeft += 180
		})


	</script>
</body>

{% endblock %}